<!DOCTYPE html>

<!-- #BeginTemplate "00Vorlage.dwt" -->

<html >

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta content="Methodisches Entwickeln von Projekten" name="description">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<meta content="Informationstechnik, Signale, Systeme, Projekte, Technik, 3D, Mikrocontroller, Arduino, ESP32, Alexander, Schleicher, Matosin, Mirko, Matošin " name="keywords" />
<script type="text/javascript">
		var project = window.location.pathname;
	</script>
<noscript>Prof. J. Walter - Informationstechnik, Mikrocomputertechnik, Digitale 
Medien </noscript>
<!-- #BeginEditable "doctitle" -->
<title>Quellcode</title>
<style type="text/css">











<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/strict.dtd">
<html>
<head>
<META http-equiv=Content-Type content="text/html; charset=UTF-8">
<style type="text/css">
span {
	font-family: 'Courier New';
	font-size: 10pt;
	color: #000000;
}
.sc0 {
}
.sc1 {
	color: #008000;
}
.sc2 {
	color: #008000;
}
.sc4 {
	color: #FF8000;
}
.sc5 {
	font-weight: bold;
	color: #0000FF;
}
.sc6 {
	color: #808080;
}
.sc9 {
	color: #804000;
}
.sc10 {
	font-weight: bold;
	color: #000080;
}
.sc11 {
}
.sc16 {
	color: #8000FF;
}
.auto-style24 {
    text-align: left;
}
</style>
</head>














































































.auto-style21 {
	border-width: 0px;
}
</style>
<!-- #EndEditable -->
<link href="highlight/styles/default.css" rel="stylesheet">
<script src="highlight/to/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<link href="CSS/Design.css" media="screen" rel="stylesheet" type="text/css" />
<link href="CSS/default.css" media="print" rel="stylesheet" type="text/css" />
<link href="CSS/Extras.css" media="screen" rel="stylesheet" type="text/css" />
<style type="text/css">

.auto-style19 {
	border-width: 0px;
	vertical-align: middle;
	background-color: white;
}
a {
	color: #000000;
}
a:visited {
	color: #000000;
}
a:active {
	color: #E1003C;
}
.auto-style21 {
	font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
	color: #FFFFFF;
	text-align: center;
	background-color: #FFFFFF;
}
.auto-style22 {
	text-align: center;
	color: #000000;
	font-family: "Franklin Gothic Medium", "Arial Narrow", Arial, sans-serif;
}
.auto-style23 {
	font-size: x-large;
	
}
</style>
</head>

<body>

<div class="header" style="z-index: 100">
    <div class="top" style="height: 150px">
        <table style="width: 100%; height: 150px;">
            <tr>
                <td class="auto-style21" style="width: 28%; height: 44px;">
                <a href="http://www.hs-karlsruhe.de/" target="_blank">
                <img alt="Hochschule Karlsruhe Logo" class="auto-style19" height="92" src="images/Hska_logo.png" style="float: left" width="277"></a></td>
                <td class="auto-style2" style="height: 100px">
                <span class="auto-style3"><strong>Informationstechnik</strong></span><br class="auto-style3">
                <span class="auto-style3"><strong>3D Drucker - Platine  </strong>
                </span></td>
                <td class="auto-style6" style="width: 30%; height: 44px;">
                <strong>Sommersemester 2018<br></strong>Mirko Mato&scaron;in<br>
                Alexander Schleicher</td>
            </tr>
            <tr>
                <td colspan="3" style="height: 50px;">
                <ul>
                    <li><a href="index.html">Startseite</a></li>
                    <li><a href="0101team.html">Team</a></li>
                    <li class="dropdown"><span>
                    <a class="dropbtn" href="0201Vorwort.html">Definitionsphase</a></span>
                    <div class="dropdown-content">
                        <a href="0201Vorwort.html">Vorwort</a>
                        <a href="0202Problemstellung.html">Problemstellung</a>
                        <a href="0203StandDerTechnik.html">Stand der Technik</a>
                        <a href="0204Aufgabenstellung.html">Aufgabenstellung</a>
                        <a href="0205Mindmap.html">Mindmap</a>
                        <a href="0206ProjektplanIST.html">ProjektplanIST</a>
                        <a href="0207anforderungsliste.html">Anforderungsliste</a>
                    </div>
                    <div>
                    </div>
                    </li>
                    <li class="dropdown"><span>
                    <a class="dropbtn" href="0301Blackbox.html">Konzeptphase</a></span>
                    <div class="dropdown-content">
                        <a href="0301Blackbox.html">Modellanalyse - 
                        Systemtheorie</a>
                        <!--	<a href="0302Funktionsstruktur.html">Funktionsstruktur</a>
						<a href="0303Morphologie.html">Morphologie</a>
						--><a href="0304VorteileNachteile.html">Vorteile/Nachteile</a>
						<!--<a href="0305Loesungsalternativen.html">Lösungsalternativen</a>
						<a href="0306Ranking.html">Ranking</a>
						<a href="0307VerfahrensmatrixNWA.html">Verfahrensmatrix NWA</a>
						<a href="0308ErgebnisNWA.html">Ergebnis der Nutzwertanalyse</a>-->
                        <a href="0309Konzeptentwicklung.html">Konzeptentwicklung</a>
                        <a href="0310Bestellliste.html">Bestellliste</a> </div>
                    <div>
                    </div>
                    </li>
                    <li class="dropdown"><span>
                    <a class="dropbtn" href="0401AusgewaehlteLoesung.html">
                    Ausarbeitung</a></span>
                    <div class="dropdown-content">
                        <a href="0401AusgewaehlteLoesung.html">Ausgewählte 
                        Lösung</a>
                        <a href="0402Blockschaltbild.html">Blockschaltbild</a>
                        <a href="0403Softwaredoku.html">Software Dokumentation</a>
                        <a href="0404Portbelegungsplan.html">Portbelegungsplan</a>
                        <a href="0405Schaltplan.html">Schaltplan</a>
                        <a href="0406Layout.html">Layout</a>
                        <a href="0410Bedienungsanleitung.html">Bedienungsanleitung</a>
                        <a href="0411Weiterentwicklung.html">Weiterentwicklungen</a>
                        <a href="0412Linkliste.html">Linkliste</a>
                        <a href="0413Fazit.html">Fazit</a>
                        <a href="0414Anhang.html">Anhang</a>
                        <a href="0415Protokolle.html">Protokolle</a> </div>
                    </li>
                </ul>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="auto-style2" style="overflow: hidden; margin: 0 auto; width: 1200px; top: 150px; position: relative; left: 0px;">
    <table class="auto-style10" style="width: 100%">
        <tr>
            <td class="auto-style15" style="height: 0px">
            <table style="width: 100%">
                <tr style="height:30px">
                    <td style="width: 3%; height: 30">
                    <!-- #BeginEditable "NaviVorher" -->
					<p>					<a href="0406Layout.html">					
					<img alt="" height="32" src="images/back_active.png" width="32" class="auto-style21"></a></p>
                    <!-- #EndEditable --></td>
                    <td class="auto-style2" style="width: 94%; height: 100%">
                    <!-- #BeginEditable "Ueberschrift_Navi" -->
					
					<strong>Quellcode</strong><!-- #EndEditable --></td>
                    <td class="auto-style2" style="width: 3%; height: 36;">
                    <!-- #BeginEditable "NaviNachher" -->
					<p>
					<a href="0408Mechanik.html">
					<img alt="" height="32" src="images/next_active.png" width="32" class="auto-style21"></a></p>
                    <!-- #EndEditable --></td>
                </tr>
            </table>
            </td>
        </tr>
        <tr>
            <td class="auto-style15" style="height: 100%; width:100%">
            <!-- #BeginEditable "Inhalt" -->
            <strong>Förderband:</strong>
            
		<p>
			<a href="data/20180425_ESP32-1_main_foerderband_v5.ino">
			<img  height="80" src="images/b_download.gif" width="auto" alt="Download"><br>
			esp32-1-Foerderband_ino file			</a></p>
	<br>
			

















<body>
<div style="float: left; white-space: pre; line-height: 1; background: #FFFFFF; " class="auto-style24"><span class="sc1">/*
  Erstellt von:             Johannes Beißwenger, Simon Gaiser
  Erstellt im Zeitraum:     Oktober 2017
  Bearbeitet von:		Mirko Matosin, Alexander Schleicher
  Bearbeitet im Zeitraum: 	April 2018
  Aufgaben des Programms:   Das Programm Überwacht den Druckablauf des 3D-Druckes der staatlichen Majolika.
                          Nach dem Fertigstellen eines Druckauftrages wird ein Förderband angesteuert, welches das fertige Tonobjekt aus dem Druckraum fährt.
                          Anschließend kann ein neuer Druckauftrag gestartet werden.
*/</span><span class="sc0">

</span><span class="sc2">// Inkludierung der Bibliotheken
//------------------------------------------------------------------------------//
</span><span class="sc9">#include &lt;Wire.h&gt;                 </span><span class="sc2">// I2C
</span><span class="sc9">#include &lt;Adafruit_GFX.h&gt;         </span><span class="sc2">// OLED
</span><span class="sc9">#include &lt;Adafruit_SSD1306.h&gt;     </span><span class="sc2">// Graphic
</span><span class="sc0">
</span><span class="sc2">//Definition der Pinbelegung / Namensgebung
//-------------------------------------------------------------------------------//
</span><span class="sc9">#define SignalDrucker 25                 </span><span class="sc2">// Endschalter am 3D-Drucker
</span><span class="sc9">#define SignalFoerderband 32             </span><span class="sc2">// Lichtschranke am Förderband
</span><span class="sc9">#define FoerderbandFahren 5              </span><span class="sc2">// Steuersignal für Förderband fahren
</span><span class="sc0">
</span><span class="sc9">#define OLED_RESET 4                     </span><span class="sc2">// not used / nicht genutzt bei diesem Display
</span><span class="sc0">
</span><span class="sc2">// Initialisierungen
//------------------------------------------------------------------------------//
</span><span class="sc11">Adafruit_SSD1306</span><span class="sc0"> </span><span class="sc11">display</span><span class="sc10">(</span><span class="sc11">OLED_RESET</span><span class="sc10">);</span><span class="sc0">

</span><span class="sc2">// Funktionen
//------------------------------------------------------------------------------//
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">FoerderbandVoll</span><span class="sc10">();</span><span class="sc0">
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">DruckBetrieb</span><span class="sc10">();</span><span class="sc0">

</span><span class="sc2">// Definition der Pins
//------------------------------------------------------------------------------//
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">setup</span><span class="sc10">()</span><span class="sc0">
</span><span class="sc10">{</span><span class="sc0">
  </span><span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">begin</span><span class="sc10">(</span><span class="sc4">115200</span><span class="sc10">);</span><span class="sc0">           
  </span><span class="sc2">// serielle Schnittstelle
</span><span class="sc0">
  </span><span class="sc2">//Oled Initialisierung
</span><span class="sc0">  </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">begin</span><span class="sc10">(</span><span class="sc11">SSD1306_SWITCHCAPVCC</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0x3C</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">display</span><span class="sc10">();</span><span class="sc0">
  </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">clearDisplay</span><span class="sc10">();</span><span class="sc0">
  </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">setTextSize</span><span class="sc10">(</span><span class="sc4">1</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">setTextColor</span><span class="sc10">(</span><span class="sc11">INVERSE</span><span class="sc10">);</span><span class="sc0">

  </span><span class="sc2">//Ausgänge
</span><span class="sc0">  </span><span class="sc11">pinMode</span><span class="sc10">(</span><span class="sc11">FoerderbandFahren</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">OUTPUT</span><span class="sc10">);</span><span class="sc0">           </span><span class="sc2">// Steuersignal Förderband fahren
</span><span class="sc0">
  </span><span class="sc2">//Eingänge
</span><span class="sc0">  </span><span class="sc11">pinMode</span><span class="sc10">(</span><span class="sc11">SignalDrucker</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">INPUT_PULLUP</span><span class="sc10">);</span><span class="sc0">         </span><span class="sc2">// Eingangssignal 3D-Drucker, Achtung PULLUP -&gt; Taster gegen Masse
</span><span class="sc0">  </span><span class="sc11">pinMode</span><span class="sc10">(</span><span class="sc11">SignalFoerderband</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">INPUT</span><span class="sc10">);</span><span class="sc0">     </span><span class="sc2">// Eingangssignal Lichtschranke Förderband, Achtung PULLUP -&gt;  Taster gegen Masse
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc2">// Globale Variablen
//-----------------------------------------------------------------------------//
</span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">TextS</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc2">// Textgroeße
</span><span class="sc0">
</span><span class="sc2">//-----------------------------------------------------------------------------//
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">loop</span><span class="sc10">()</span><span class="sc0">
</span><span class="sc10">{</span><span class="sc0"> 
  </span><span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc6">"Loop"</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc2">//Serial.println("Taster");
</span><span class="sc0">  </span><span class="sc2">//Serial.println(digitalRead(SignalDrucker));
</span><span class="sc0">  </span><span class="sc11">digitalWrite</span><span class="sc10">(</span><span class="sc11">FoerderbandFahren</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">HIGH</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">digitalRead</span><span class="sc10">(</span><span class="sc11">SignalFoerderband</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc11">HIGH</span><span class="sc10">)</span><span class="sc0">
  </span><span class="sc10">{</span><span class="sc0">
       </span><span class="sc11">FoerderbandVoll</span><span class="sc10">();</span><span class="sc0">
  </span><span class="sc10">}</span><span class="sc0">
  </span><span class="sc5">else</span><span class="sc0">
  </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">DruckBetrieb</span><span class="sc10">();</span><span class="sc0">
  </span><span class="sc10">}</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc2">//-----------------------------------------------------------------------------//
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">FoerderbandVoll</span><span class="sc10">()</span><span class="sc0">
</span><span class="sc10">{</span><span class="sc0">
  </span><span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc6">"Foerderband Voll"</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">clearDisplay</span><span class="sc10">();</span><span class="sc0">
  </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">setCursor</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">setTextSize</span><span class="sc10">(</span><span class="sc11">TextS</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc6">"Foerderband Voll"</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">();</span><span class="sc0">
  </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc6">"Bitte Tonobjekte von Foerderband entnehmen"</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">display</span><span class="sc10">();</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">DruckBetrieb</span><span class="sc10">()</span><span class="sc0">
</span><span class="sc10">{</span><span class="sc0">
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">val</span><span class="sc10">;</span><span class="sc0">
  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">buttonState</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">digitalRead</span><span class="sc10">(</span><span class="sc11">SignalDrucker</span><span class="sc10">);</span><span class="sc0">     </span><span class="sc2">// Anfangszustand lesen
</span><span class="sc0">  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">buttonPresses</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">

  </span><span class="sc5">while</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">digitalRead</span><span class="sc10">(</span><span class="sc11">SignalFoerderband</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc11">LOW</span><span class="sc10">)</span><span class="sc0">
  </span><span class="sc10">{</span><span class="sc0"> 
    </span><span class="sc11">val</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">digitalRead</span><span class="sc10">(</span><span class="sc11">SignalDrucker</span><span class="sc10">);</span><span class="sc0">               </span><span class="sc2">// Eingabewert lesen und in val speichern
</span><span class="sc0">    </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">val</span><span class="sc0"> </span><span class="sc10">!=</span><span class="sc0"> </span><span class="sc11">buttonState</span><span class="sc10">)</span><span class="sc0">                         </span><span class="sc2">// Der Zustand des Schalters hat sich verändert
</span><span class="sc0">    </span><span class="sc10">{</span><span class="sc0">
      </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">val</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc11">LOW</span><span class="sc10">)</span><span class="sc0">                               </span><span class="sc2">// Ist der Schalter gedrückt?
</span><span class="sc0">      </span><span class="sc10">{</span><span class="sc0">
        
       </span><span class="sc11">buttonPresses</span><span class="sc10">++;</span><span class="sc0">                            </span><span class="sc2">// Tastendrücke zählen
</span><span class="sc0">      </span><span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc6">"Schalter"</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc11">buttonState</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">val</span><span class="sc10">;</span><span class="sc0">                              </span><span class="sc2">// Den Zustand merken
</span><span class="sc0">    </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">buttonPresses</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">)</span><span class="sc0">                         </span><span class="sc2">// kein Druckersignal erhalten
</span><span class="sc0">    </span><span class="sc10">{</span><span class="sc0"> </span><span class="sc2">// hier ggf die Zahlen ändern um zuerst hoch und dann runter zu fahren
</span><span class="sc0">      </span><span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc6">"Anlage Bereit"</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">clearDisplay</span><span class="sc10">();</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">setCursor</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">setTextSize</span><span class="sc10">(</span><span class="sc11">TextS</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc6">"Anlage Bereit"</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">display</span><span class="sc10">();</span><span class="sc0">
      </span><span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc6">"Schalter0"</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">buttonPresses</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">)</span><span class="sc0">                    </span><span class="sc2">// Drucker fährt Grundstellung
</span><span class="sc0">    </span><span class="sc10">{</span><span class="sc0">
      </span><span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc6">"Nullposition"</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">clearDisplay</span><span class="sc10">();</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">setCursor</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">setTextSize</span><span class="sc10">(</span><span class="sc11">TextS</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc6">"Nullposition"</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc2">//display.println("??Druckzeit??");
</span><span class="sc0">      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">display</span><span class="sc10">();</span><span class="sc0">
      </span><span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc6">"Schalter1"</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">buttonPresses</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">)</span><span class="sc0">                    </span><span class="sc2">// Drucker fährt von Grundstellung in Arbeitsposition
</span><span class="sc0">    </span><span class="sc10">{</span><span class="sc0">
      </span><span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc6">"Druckbetrieb"</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">clearDisplay</span><span class="sc10">();</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">setCursor</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">setTextSize</span><span class="sc10">(</span><span class="sc11">TextS</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc6">"Druckbetrieb"</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc2">//display.println("??Druckzeit??");
</span><span class="sc0">      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">display</span><span class="sc10">();</span><span class="sc0">
      </span><span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc6">"Schalter2"</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">buttonPresses</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">3</span><span class="sc10">)</span><span class="sc0">                    </span><span class="sc2">// Drucker ist fertig, fährt von Arbeitsposition in Grundstellung
</span><span class="sc0">    </span><span class="sc10">{</span><span class="sc0">
      </span><span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc6">"Druck beendet.... Foerderband fahren"</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc11">Serial</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc6">"Schalter3"</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">clearDisplay</span><span class="sc10">();</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">setCursor</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">setTextSize</span><span class="sc10">(</span><span class="sc11">TextS</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc6">"Druck beendet"</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc6">"Foerderband fahren"</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc11">display</span><span class="sc10">.</span><span class="sc11">display</span><span class="sc10">();</span><span class="sc0">
      </span><span class="sc11">digitalWrite</span><span class="sc10">(</span><span class="sc11">FoerderbandFahren</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">LOW</span><span class="sc10">);</span><span class="sc0">        </span><span class="sc2">// Förderband ansteuern
</span><span class="sc0">      </span><span class="sc11">delay</span><span class="sc10">(</span><span class="sc4">2000</span><span class="sc10">);</span><span class="sc0">                                  </span><span class="sc2">// 2 s --&gt; 15cm Verfahrweg
</span><span class="sc0">      </span><span class="sc11">digitalWrite</span><span class="sc10">(</span><span class="sc11">FoerderbandFahren</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">HIGH</span><span class="sc10">);</span><span class="sc0">
      </span><span class="sc11">buttonPresses</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
  </span><span class="sc10">}</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span></div></body>
</html>
    <br>
    <br><br><br><br><br>
    <strong></strong>        
            
           <!-- #EndEditable -->
            &nbsp;</td>
        </tr>
    </table>
    <br></div>
<div style="height: 5px; overflow: hidden; margin: 0 auto; width: 800px; top: 150px; position: relative; left: 0px;">
</div>
<div class="bottom" style="overflow: hidden; margin: 0 auto; width: 100%; top: 150px; position: relative; left: 0px; height: 28px;">
    <table style="width: 100%">
        <tr>
            <td class="auto-style4" style="height: 25px; width: 395px;">&nbsp;</td>
            <td class="auto-style22" style="width: 50%; height: 25px;">Mit 
            Unterstützung von Prof. J. Walter</td>
            <td class="auto-style22" style="width: 50%; height: 25px;"><strong>
            Sommersemester&nbsp;2018</strong></td>
            <td class="auto-style5" style="width: 50%; height: 25px;">&nbsp;</td>
        </tr>
    </table>
    <br></div>

</body>

</html>
